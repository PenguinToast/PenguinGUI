<!Doctype html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <link href='https://fonts.googleapis.com/css?family=Chivo:900' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/pygment_trac.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/print.css"
          media="print">
    <script src="http://code.jquery.com/jquery-2.1.1.min.js"></script>
    <link rel="stylesheet" href="jqueryui/jquery-ui.min.css">
    <script src="jqueryui/jquery-ui.min.js"></script>
    <link rel="stylesheet" href="highlight/styles/github.css">
    <script src="highlight/highlight.pack.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script type"text/javascript" src="http://test.gfycat.com/gfycat_test_june25.js"></script>

    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-56315532-1', 'auto');
      ga('require', 'displayfeatures');
      ga('send', 'pageview');

    </script>
    
    <script>
      $(function() {
      $( ".accordion" ).accordion({
      collapsible: true,
      active: false,
      heightStyle : "content"
      });
      });
    </script>

    <!--[if lt IE 9]>
        <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
        <![endif]-->
    <title>PenguinGUI by PenguinToast</title>
  </head>

  <body>
    <div id="container">
      <div class="inner">

        <header>
          <h1>PenguinGUI</h1>
          <h2>Object oriented GUI library for Starbound lua canvases</h2>
        </header>

        <section id="downloads" class="clearfix">
          <a href="https://github.com/PenguinToast/PenguinGUI/zipball/develop" id="download-zip" class="button"><span>Download .zip</span></a>
          <a href="https://github.com/PenguinToast/PenguinGUI/tarball/develop" id="download-tar-gz" class="button"><span>Download .tar.gz</span></a>
          <a href="https://github.com/PenguinToast/PenguinGUI/tree/develop" id="view-on-github" class="button"><span>View on GitHub</span></a>
        </section>

        <hr>

        <section id="main_content">
          <h1>Usage</h1>
Basic stuff needed for the GUI to work
</br>
In your console script:
<pre><code>function update(dt)
  GUI.step(dt)
end

function canvasClickEvent(position, button, pressed)
  GUI.clickEvent(position, button, pressed)
end

function canvasKeyEvent(key, isKeyDown)
  GUI.keyEvent(key, isKeyDown)
end</code></pre>
</br>
For people unfamilar with lua,
<pre><code class="lua">sometable:somefunction(args)</code></pre>
is equivalent to
<pre><code class="lua">sometable.somefunction(sometable, args)</code></pre>
Generally, in this library, calls to functions in GUI will use the "." syntax,
and calls to functions in any GUI component will use the ":" syntax.</br></br>
To add a top-level component:
<pre><code class="lua">GUI.add(component)</code></pre>
To add a component under another component:
<pre><code class="lua">parent:add(component)</code></pre></br>
<h2>Components</h2>
<div class="accordion">
  <h3>Image</h3>
  <div>
    <em>An image.</em></br></br>
    <h4>Constructor</h4>
    <pre><code>local image = Image(x, y, width, height, imagePath)</code></pre>
    </br>
    <h4>Example</h4>
    Creates a red 'x' image
<pre><code>local image = Image(3, 3, 9, 11, "/interface/cockpit/xdown.png")
</code></pre>
<img src="http://imgur.com/Kyuhg46.png">
  </div>
  <h3>Label</h3>
  <div>
    <em>A text label.</em></br></br>
    <h4>Constructor</h4>
    <pre><code>local label = Label(x, y, text, optionFontSize, optionalColor)</code></pre>
    </br>
    <h4>Example</h4>
    Creates a label with the text "Hello"
<pre><code>local label = Label(10, 10, "Hello")
</code></pre>
<img src="http://imgur.com/n9KhO0l.png">
  </div>
  <h3>Button</h3>
  <div>
    <em>A clickable button.</em></br></br>
    <h4>Constructor</h4>
    <pre><code>local button = Button(x, y, width, height)</code></pre>
    </br>
    <h4>Example</h4>
    Creates a button with a red x that closes the canvas on click
<pre><code>local button = Button(10, 10, 0, 0)
button:add(Image(3, 3, 9, 11, "/interface/cockpit/xdown.png"))
button:pack(3)
button.onClick = function(button)
  console.dismiss()
end
</code></pre>
<img class="gfyitem" data-id="BrokenBewitchedClingfish" />
  </div>
  <h3>TextButton</h3>
  <div>
    <em>A button with a text label on it.</em></br></br>
    <h4>Constructor</h4>
    <pre><code>local button = TextButton(x, y, width, height, text)</code></pre>
    </br>
    <h4>Example</h4>
    Creates a button at (10, 10) of width 100 and height 16, labeled Button that
    sets its text to "hi" on click
<pre><code>local testbutton = TextButton(10, 10, 100, 16, "Button")
testbutton.onClick = function(button)
  testbutton:setText("hi")
end
</code></pre>
<img class="gfyitem" data-id="GrayGoodCanadagoose" />
  </div>
  <h3>TextField</h3>
  <div>
    <em>A editable text field.</em></br></br>
    <h4>Constructor</h4>
    <pre><code>local field = TextField(x, y, width, height, optionalDefaultText)</code></pre>
    </br>
    <h4>Example</h4>
Create a text field with default text "text" that sets its default text to
    whatever's in it when the user hits enter
<pre><code>local testfield = TextField(10, 10, 100, 16, "text")
testfield.onEnter = function(field)
  field.defaultText = field.text    
end
</code></pre>
<img class="gfyitem" data-id="LittlePleasantBlackwidowspider" />
  </div>
  <h3>Frame</h3>
  <div>
    <em>A movable window.</em></br></br>
    <h4>Constructor</h4>
    <pre><code>local frame = Frame(x, y)</code></pre>
    </br>
    <h4>Example</h4>
    Creates a window with a button that closes it
<pre><code>local frame = Frame(10, 10)
local button = TextButton(10, 10, 100, 16, "Close")
button.onClick = function(button)
  GUI.remove(frame)
end
frame:add(button)
frame:pack(10)
</code></pre>
<img class="gfyitem" data-id="CoolSparseHerring" />
  </div>
  <h3>Panel</h3>
  <div>
    <em>A group of components.</em></br></br>
    <h4>Constructor</h4>
    <pre><code>local panel = Panel(x, y)</code></pre>
    </br>
    <h4>Example</h4>
    Group several RadioButtons together
<pre><code>local panel = Panel(10, 10)
panel:add(RadioButton(0, 0, 16))
panel:add(RadioButton(0, 20, 16))
</code></pre>
<img src="http://imgur.com/nhqOJW1.png">
  </div>
  <h3>CheckBox</h3>
  <div>
    <em>A toggleable checkbox.</em></br></br>
    <h4>Constructor</h4>
    <pre><code>local checkbox = CheckBox(x, y, size)</code></pre>
    </br>
    <h4>Example</h4>
    Creates a checkbox that prints "selected" when it is selected
<pre><code>local checkbox = CheckBox(10, 10, 16)
checkbox.onSelect = function(checkbox, selected)
  if selected then
    world.logInfo("selected")
  end
end
</code></pre>
<img class="gfyitem" data-id="KaleidoscopicClumsyHerculesbeetle" />
  </div>
  <h3>RadioButton</h3>
  <div>
    <em>A group of buttons where only one may be selected at a time.</em></br></br>
    <h4>Constructor</h4>
    <pre><code>local radiobutton = RadioButton(x, y, size)</code></pre>
    </br>
    <h4>Example</h4>
    Creates a group of RadioButtons
<pre><code>local panel = Panel(10, 10)
panel:add(RadioButton(0, 0, 16))
panel:add(RadioButton(0, 20, 16))
</code></pre>
<img class="gfyitem" data-id="LimitedFineAnkole" />
  </div>
</div>
<h2>Planned Components</h2>
<ul>
  <li>Slider
  <li>List
  <li>ComboBox
</ul>
          <h1>
            <a name="code-samples" class="anchor" href="#code-samples"><span class="octicon octicon-link"></span></a>Code Samples</h1>
          <div class="accordion">
            <h3>Sample 1</h3>
            <div>
          In your .object file:
<pre><code>{
  "scripts" : ["/penguingui/Util.lua", "/your/object/script.lua"],
  "interactionConfig" : {
    "gui" : {
      "background" : {
        "zlevel" : 0,
        "type" : "background",
        "fileHeader" : "/path/to/header.png",
        "fileBody" : "/path/to/body.png"
      },
      "scriptCanvas" : {
        "zlevel" : 1,
        "type" : "canvas",
        "rect" : [canvasXOffset, canvasYOffset, canvasWidth, canvasHeight],
        "captureMouseEvents" : true,
        "captureKeyboardEvents" : true
      },
      "close" : {
        "zlevel" : 2,
        "type" : "button",
        "base" : "/interface/cockpit/xup.png",
        "hover" : "/interface/cockpit/xdown.png",
        "pressed" : "/interface/cockpit/xdown.png",
        "callback" : "close",
        "position" : [closeButtonX, closeButtonY],
        "pressedOffset" : [0, -1]
      }
    },
    "scripts" : ["/path/to/your/console/script.lua"],
    "scriptDelta" : 5,
    "scriptCanvas" : "scriptCanvas"
  }  
}</code></pre>
</br>
In your object script:
<pre><code>function init(virtual)
  if not virtual then
    entity.setInteractive(true)
  end
end

function onInteraction(args)
  local interactionConfig = entity.configParameter("interactionConfig")
  
  local consoleScripts = PtUtil.library()
  for _,script in ipairs(interactionConfig.scripts) do
    table.insert(consoleScripts, script)
  end
  interactionConfig.scripts = consoleScripts
  
  return {"ScriptConsole", interactionConfig}
end</code></pre>
</br>

To make this:
<img class="gfyitem" data-id="WarlikeEdibleFishingcat" />
</br>
In your console script:
<pre><code>function init()
  local testbutton = TextButton(10, 10, 100, 16, "Make window")
  testbutton.onClick = testButtonClick
  GUI.add(testbutton)
end

function testButtonClick(button, mouseButton)
  local frame = Frame(100, 50)
  GUI.add(frame)
  local testTextButton = TextButton(80, 20, 100, 16, "text")
  testTextButton.onClick = function(button)
    GUI.remove(frame)
  end
  frame:add(testTextButton)
  
  local testField = TextField(20, 20, 50, 16, "text")
  testField.onEnter = function(field)
    testTextButton:setText(field.text)
  end
  frame:add(testField)

  frame:pack(20)
end

function update(dt)
  GUI.step(dt)
end

function canvasClickEvent(position, button, pressed)
  GUI.clickEvent(position, button, pressed)
end

function canvasKeyEvent(key, isKeyDown)
  GUI.keyEvent(key, isKeyDown)
end</code></pre>
</div>
</div>
          <h1>Permissions</h1>
          Feel free to distribute this library with your mods without my
          permission, as long as you include a link to this page in your mod
          description. You may modify anything in the mod and distribute it as
          part of your mod, provided a link to this page is included.</br>
        </section>

        <footer>
          PenguinGUI is maintained by <a href="https://github.com/PenguinToast">PenguinToast</a><br>
          This page was generated by <a href="http://pages.github.com">GitHub Pages</a>. Tactile theme by <a href="https://twitter.com/jasonlong">Jason Long</a>.
        </footer>

        
      </div>
    </div>
  </body>
</html>
